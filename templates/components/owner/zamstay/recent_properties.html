<!-- components/owner/zamstay/recent_properties.html -->
<div class="zamstay-recent-properties">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h3 style="color: #2c3e50; display: flex; align-items: center; gap: 10px; margin: 0;">
            <i class="fas fa-home" style="color: #3498db;"></i>
            Recent ZamStay Properties
        </h3>
        <a href="/zamstay/properties/" style="font-size: 12px; color: #3498db; text-decoration: none;">
            View All <i class="fas fa-arrow-right"></i>
        </a>
    </div>
    
    <div class="properties-list" style="max-height: 300px; overflow-y: auto;">
        {% for property in zamstay_recent_properties|default:default_properties %}
        <div class="property-item" style="display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #eee; transition: background 0.3s;">
            <div style="width: 50px; height: 50px; border-radius: 8px; overflow: hidden; margin-right: 15px; flex-shrink: 0;">
                <img src="{{ property.image|default:'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80' }}" 
                     alt="{{ property.title }}" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            <div style="flex: 1;">
                <div style="font-weight: 600; color: #2c3e50;">{{ property.title|default:'Modern Apartment' }}</div>
                <div style="font-size: 12px; color: #7f8c8d; display: flex; gap: 10px; margin-top: 3px;">
                    <span><i class="fas fa-map-marker-alt"></i> {{ property.location|default:'Lusaka CBD' }}</span>
                    <span><i class="fas fa-dollar-sign"></i> {{ property.price|default:'$120' }}/night</span>
                </div>
            </div>
            <div>
                <span class="status-badge" style="padding: 3px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; 
                       {% if property.status == 'available' or not property.status %}
                       background: #d4edda; color: #155724;
                       {% else %}
                       background: #f8d7da; color: #721c24;
                       {% endif %}">
                    {{ property.status|default:'Available'|title }}
                </span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
.property-item:hover {
    background: #f8f9fa;
    border-radius: 8px;
}
</style>

{% with default_properties=default_properties|default:'' %}
<script>
// Add hover effect
document.querySelectorAll('.property-item').forEach(item => {
    item.addEventListener('mouseenter', function() {
        this.style.backgroundColor = '#f8f9fa';
    });
    item.addEventListener('mouseleave', function() {
        this.style.backgroundColor = '';
    });
});
</script>
{% endwith %}
